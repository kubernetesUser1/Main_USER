<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Application Management</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    .sidebar {
      height: 100vh;
      width: 250px;
      position: fixed;
      background: #343a40;
      padding-top: 20px;
    }
    .sidebar a {
      padding: 10px;
      text-decoration: none;
      font-size: 18px;
      color: white;
      display: block;
    }
    .sidebar a:hover {
      background: #575d63;
    }
    .content {
      margin-left: 270px;
      padding: 20px;
    }
    .card img {
      width: 50px;
      height: 50px;
      margin-bottom: 15px;
    }
    .chart-box {
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h4 class="text-white text-center">APPS</h4>
    <a href="#" onclick="showCategory('databases')">Databases</a>
    <a href="#" onclick="showCategory('message-brokers')">Message Brokers</a>
    <a href="#" onclick="showCategory('search-engines')">Search Engine</a>
    <hr class="text-white" />
    <a href="deployment.html">Deployments</a>
    <a href="replication.html">Replication Controllers</a>
  </div>

  <div class="content">
    <h2>Application Deployment</h2>

    <!-- CPU & Memory Charts -->
    <div class="row chart-box">
      <div class="col-md-6">
        <canvas id="cpuChart"></canvas>
      </div>
      <div class="col-md-6">
        <canvas id="memoryChart"></canvas>
      </div>
    </div>

    <!-- Workload Status Charts -->
    <div class="row chart-box">
      <div class="col-md-4">
        <canvas id="deploymentStatusChart"></canvas>
      </div>
      <div class="col-md-4">
        <canvas id="podStatusChart"></canvas>
      </div>
      <div class="col-md-4">
        <canvas id="replicaSetStatusChart"></canvas>
      </div>
    </div>

    <!-- Existing Category Cards -->
    <!-- Your existing "Databases", "Message Brokers", "Search Engine" sections go here -->
    <!-- Keep this part unchanged -->
    <!-- ... -->
    <!-- Paste your existing code for those sections here (already included above, so skip repeating) -->

    <!-- Keep original DB and broker cards here as you shared -->
    <!-- (Omitted here to keep the response short â€“ no need to remove yours) -->

  </div>

  <script>
    function showCategory(category) {
      document.querySelectorAll('.category').forEach(cat => cat.style.display = 'none');
      document.getElementById(category).style.display = 'block';
    }

    function navigateToDeploy(applicationName) {
      window.location.href = `deploy.html?application=${encodeURIComponent(applicationName)}`;
    }

    // CPU Usage Chart (Line)
    const cpuChart = new Chart(document.getElementById("cpuChart"), {
      type: "line",
      data: {
        labels: ["10s", "20s", "30s", "40s", "50s", "60s"],
        datasets: [{
          label: "CPU Usage (cores)",
          data: [0.3, 0.5, 0.4, 0.7, 0.6, 0.8],
          backgroundColor: "rgba(54, 162, 235, 0.2)",
          borderColor: "rgba(54, 162, 235, 1)",
          borderWidth: 2,
          fill: true,
        }],
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true, title: { display: true, text: 'Cores' } },
        },
      },
    });

    // Memory Usage Chart (Line)
    const memoryChart = new Chart(document.getElementById("memoryChart"), {
      type: "line",
      data: {
        labels: ["10s", "20s", "30s", "40s", "50s", "60s"],
        datasets: [{
          label: "Memory Usage (Mi)",
          data: [200, 300, 400, 380, 500, 550],
          backgroundColor: "rgba(255, 99, 132, 0.2)",
          borderColor: "rgba(255, 99, 132, 1)",
          borderWidth: 2,
          fill: true,
        }],
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true, title: { display: true, text: 'Mi' } },
        },
      },
    });

    // Deployment Status Chart
    const deploymentChart = new Chart(document.getElementById("deploymentStatusChart"), {
      type: "doughnut",
      data: {
        labels: ["Running", "Failed"],
        datasets: [{
          label: "Deployments",
          data: [4, 1],
          backgroundColor: ["#36a2eb", "#ff6384"],
        }],
      },
    });

    // Pod Status Chart
    const podChart = new Chart(document.getElementById("podStatusChart"), {
      type: "doughnut",
      data: {
        labels: ["Running", "Failed"],
        datasets: [{
          label: "Pods",
          data: [10, 2],
          backgroundColor: ["#4bc0c0", "#ff6384"],
        }],
      },
    });

    // ReplicaSet Status Chart
    const replicaSetChart = new Chart(document.getElementById("replicaSetStatusChart"), {
      type: "doughnut",
      data: {
        labels: ["Active", "Failed"],
        datasets: [{
          label: "ReplicaSets",
          data: [5, 1],
          backgroundColor: ["#9966ff", "#ff6384"],
        }],
      },
    });
  </script>
</body>
</html>
